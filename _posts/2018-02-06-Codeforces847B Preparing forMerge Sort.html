---
tags: 
 - 基础算法-递推
grammar_cjkRuby: true
catalog: true
layout:  post
header-img: "img/header/P11.jpg"
preview-img: "/img/preview/P11.jpg"
---
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;"><span style="color:#373a3c;">标签：递推，</span><span style="color:#373a3c;">DP</span></span>
</p>
<p align="left">
	<span style="font-family:Microsoft YaHei;font-size:16px;">Ivan hasan array consisting of&nbsp;<em>n</em>&nbsp;differentintegers. He decided to reorder all elements in increasing order. Ivan lovesmerge sort so he decided to represent his array with one or several increasingsequences which he then plans to merge into one sorted array.</span>
</p>
<p align="left">
	<span style="font-family:Microsoft YaHei;font-size:16px;">Ivanrepresent his array with increasing sequences with help of the followingalgorithm.</span>
</p>
<p align="left">
	<span style="font-family:Microsoft YaHei;font-size:16px;">Whilethere is at least one unused number in array Ivan repeats the followingprocedure:</span>
</p>
<p align="left">
	<span style="font-family:Microsoft YaHei;font-size:16px;">·&nbsp;&nbsp;iterate through array from the left to theright;</span>
</p>
<p align="left">
	<span style="font-family:Microsoft YaHei;font-size:16px;">·&nbsp;&nbsp;Ivan only looks at unused numbers on currentiteration;</span>
</p>
<p align="left">
	<span style="font-family:Microsoft YaHei;font-size:16px;">·&nbsp;&nbsp;if current number is the first unused numberon this iteration or this number is greater than previous unused number oncurrent iteration, then Ivan marks the number as used and writes it down.</span>
</p>
<p align="left">
	<span style="font-family:Microsoft YaHei;font-size:16px;">Forexample, if Ivan's array looks like&nbsp;[1, 3,2, 5, 4]&nbsp;then he will perform two iterations. On first iterationIvan will use and write numbers&nbsp;[1, 3, 5], and onsecond one —&nbsp;[2, 4].</span>
</p>
<p align="left">
	<span style="font-family:Microsoft YaHei;font-size:16px;">Write aprogram which helps Ivan and finds representation of the given array with oneor several increasing sequences in accordance with algorithm described above.</span>
</p>
<p align="left">
	<strong><span style="font-family:Microsoft YaHei;font-size:16px;">Input</span></strong>
</p>
<p align="left">
	<span style="font-family:Microsoft YaHei;font-size:16px;">The firstline contains a single integer&nbsp;<em>n</em>&nbsp;(1 ≤ <em>n</em> ≤ 2·10<sup>5</sup>) — the number ofelements in Ivan's array.</span>
</p>
<p align="left">
	<span style="font-family:Microsoft YaHei;font-size:16px;">The secondline contains a sequence consisting of distinct integers&nbsp;<em>a</em><sub>1</sub>, <em>a</em><sub>2</sub>, ..., <em>a<sub>n</sub></em>&nbsp;(1 ≤ <em>a<sub>i</sub></em> ≤ 10<sup>9</sup>) — Ivan'sarray.</span>
</p>
<p align="left">
	<strong><span style="font-family:Microsoft YaHei;font-size:16px;">Output</span></strong>
</p>
<p align="left">
	<span style="font-family:Microsoft YaHei;font-size:16px;">Printrepresentation of the given array in the form of one or more increasingsequences in accordance with the algorithm described above. Each sequence mustbe printed on a new line.</span>
</p>
<p align="left">
	<strong><span style="font-family:Microsoft YaHei;font-size:16px;">Example</span></strong>
</p>
<p align="left">
	<strong><span style="font-family:Microsoft YaHei;font-size:16px;">Input</span></strong>
</p>
<p style="background:rgb(239,239,239)" align="left">
	<span style="font-family:Microsoft YaHei;font-size:16px;">5<br />
	1 3 2 5 4</span>
</p>
<p align="left">
	<strong><span style="font-family:Microsoft YaHei;font-size:16px;">Output</span></strong>
</p>
<p style="background:rgb(239,239,239)" align="left">
	<span style="font-family:Microsoft YaHei;font-size:16px;">1 3 5<br />
	2 4 </span>
</p>
<p align="left">
	<strong><span style="font-family:Microsoft YaHei;font-size:16px;">Input</span></strong>
</p>
<p style="background:rgb(239,239,239)" align="left">
	<span style="font-family:Microsoft YaHei;font-size:16px;">4<br />
	4 3 2 1</span>
</p>
<p align="left">
	<strong><span style="font-family:Microsoft YaHei;font-size:16px;">Output</span></strong>
</p>
<p style="background:rgb(239,239,239)" align="left">
	<span style="font-family:Microsoft YaHei;font-size:16px;">4<br />
	3 <br />
	2 <br />
	1 </span>
</p>
<p align="left">
	<strong><span style="font-family:Microsoft YaHei;font-size:16px;">Input</span></strong>
</p>
<p style="background:rgb(239,239,239)" align="left">
	<span style="font-family:Microsoft YaHei;font-size:16px;">4<br />
	10 30 50 101</span>
</p>
<p align="left">
	<strong><span style="font-family:Microsoft YaHei;font-size:16px;">Output</span></strong>
</p>
<p style="background:rgb(239,239,239)" align="left">
	<span style="font-family:Microsoft YaHei;font-size:16px;">10 30 50 101</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">类似于noip1999拦截导弹那题</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">为了防止TLE，只好先前加入判断了，这样可以避免一部分的双重循环，时间复杂度O(n*cnt)</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">//cnt代表输出答案的行数</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">Code</span>
</p>
<pre name="code" class="cpp">#include&lt;bits/stdc++.h&gt;
#define rep(i,a,b) for(int i=a;i&lt;=b;i++)
#define dep(i,a,b) for(int i=a;i&gt;=b;i--)
using namespace std;
 
inline int read()
{
       intf=1,x=0;char ch=getchar();
       while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}
       while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=x*10+ch-'0';ch=getchar();}
       returnx*f;
}
struct data{int num,x;}a[200005];
int n,cnt=1,Max[200005];
 
inline int cmp(data a,data b)
{
   if(a.num==b.num)return a.x&lt;b.x;
       elsereturn a.num&lt;b.num;
}
 
int main()
{
       n=read();
       rep(i,1,n)a[i].x=read();
       rep(i,1,n){
              if(a[i].x&lt;Max[cnt]){Max[++cnt]=a[i].x;a[i].num=cnt;continue;}
              rep(j,1,cnt)if(a[i].x&gt;Max[j]){Max[j]=a[i].x;a[i].num=j;break;}
       }
       sort(a+1,a+1+n,cmp);
       printf(&quot;%d&quot;,a[1].x);
       rep(i,2,n){
              if(a[i].num!=a[i-1].num)printf(&quot;\n&quot;);
              printf(&quot;%d&quot;,a[i].x);
       }
       return0;
}</pre>
<br />
<br />

<p>
	<br />
	
</p>
