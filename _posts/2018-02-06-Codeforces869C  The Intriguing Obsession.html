---
tags: 
 - 数论-杂题
grammar_cjkRuby: true
catalog: true
layout:  post
header-img: "img/header/P31.jpg"
preview-img: "/img/preview/P31.jpg"
---
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">标签：数学</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">— This is not playing but duty as allies ofjustice, Nii-chan!</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">— Not allies but justice itself, Onii-chan!</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">With hands joined, go everywhere at a speedfaster than our thoughts! This time, the Fire Sisters&nbsp;— Karen andTsukihi&nbsp;— is heading for somewhere they've never reached&nbsp;—water-surrounded islands!</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">There are three clusters of islands,conveniently coloured red, blue and purple. The clusters consist of<em>a</em>, <em>b</em>and <em>c</em> distinct islands respectively.</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">Bridges have been built between some(possibly all or none) of the islands. A bridge bidirectionally connects twodifferent islands and has length 1. For any two islands of the same colour,either they shouldn't be reached from each other through bridges, or theshortest distance between them is at least 3, apparently in order to preventoddities from spreading quickly inside a cluster.</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">The Fire Sisters are ready for the unknown,but they'd also like to test your courage. And you're here to figure out thenumber of different ways to build all bridges under the constraints, and givethe answer modulo 998 244 353. Two ways areconsidered different if a pair of islands exist, such that there's a bridgebetween them in one of them, but not in the other.</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">Input</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">The first and only line of input containsthree space-separated integers<em>a</em>, <em>b</em> and <em>c</em> (1 ≤ <em>a</em>, <em>b</em>, <em>c</em> ≤ 5 000)&nbsp;— the number of islands in thered, blue and purple clusters, respectively.</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">Output</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">Output one line containing aninteger&nbsp;— the number of different ways to build bridges, modulo 998 244 353.</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">Examples</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">Input</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">1 1 1</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">Output</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">8</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">Input</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">1 2 2</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">Output</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">63</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">Input</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">1 3 5</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">Output</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">3264</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">Input</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">6 2 9</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">Output</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">813023575</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">Note</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">In the first example, there are 3 bridgesthat can possibly be built, and no setup of bridges violates the restrictions.Thus the answer is 2<sup>3</sup> = 8.</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">In the second example, the upper twostructures in the figure below are instances of valid ones, while the lower twoare invalid due to the blue and purple clusters, respectively.</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">&nbsp;</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">分析：<del>比赛的时候一直认为这题和杨辉三角有关（由于去年NOIP2016D2T1的坑）然后完美gg</del></span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">正解应该是动规了吧（或者说是递推）</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">我们可以将a,b,c三个数分成(a,b,1),(a,c,1),(b,c,1)</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">将上述的三种情况相乘再取模就是最终的答案</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">而对于任意一种情况a,b</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">F(a,b)=f(a-1,b-1)*b+f(a-1,b)</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">&nbsp;</span>
</p>
<p>
	<span style="font-family:Microsoft YaHei;font-size:16px;">Code</span>
</p>
<pre name="code" class="cpp">#include&lt;bits/stdc++.h&gt;
#define rep(i,a,b) for(int i=a;i&lt;=b;i++)
#define dep(i,a,b) for(int i=a;i&gt;=b;i--)
#define LL unsigned long long
using namespace std;
const int maxn=5006,mod=998244353;
LL a,b,c,f[maxn][maxn],Max=0;

int main()
{
    cin&gt;&gt;a&gt;&gt;b&gt;&gt;c;
    Max=max(a,max(b,c));
	rep(i,0,Max)f[i][0]=1,f[0][i]=1;
	rep(i,1,Max)
	    rep(j,1,Max)
	        f[i][j]=((f[i-1][j-1]*j)%mod+f[i-1][j])%mod;
	cout&lt;&lt;(((f[a][b]*f[b][c])%mod)*f[a][c])%mod&lt;&lt;endl;
	return 0;
}</pre>
<br />
<br />

<p>
	<br />
	
</p>
