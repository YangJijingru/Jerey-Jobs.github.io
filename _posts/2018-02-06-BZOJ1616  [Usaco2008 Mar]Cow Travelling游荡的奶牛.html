---
tags: 
 - DP-杂题
grammar_cjkRuby: true
catalog: true
layout:  post
header-img: "img/header/P7.jpg"
preview-img: "/img/preview/P47.jpg"
---
<p style="margin:0px">
	<span style="font-weight:bold"><span style="font-family:等线;"><span style="font-size:16px;">标签：<span style="margin:0px" lang="EN-US">DP</span></span></span></span><span style="margin:0px" lang="EN-US"><span style="font-family:等线;font-size:16px;"><br />
	</span></span>
</p>
<p style="margin:0px">
	<strong><span style="margin:0px" lang="EN-US"><span style="font-family:等线;font-size:16px;">Description</span></span></strong>
</p>
<p style="margin:0px">
	<span style="font-family:等线;font-size:16px;">奶牛们在被划分成<span style="margin:0px" lang="EN-US">N</span>行<span style="margin:0px" lang="EN-US">M</span>列<span style="margin:0px" lang="EN-US">(2 &lt;= N &lt;= 100; 2 &lt;= M &lt;= 100)</span>的草地上游走，试图找到整块草地中最美味的牧草。<span style="margin:0px" lang="EN-US">Farmer John</span>在某个时刻看见贝茜在位置<span style="margin:0px" lang="EN-US"> (R1, C1)</span>，恰好<span style="margin:0px" lang="EN-US">T (0 &lt; T &lt;= 15)</span>秒后，<span style="margin:0px" lang="EN-US">FJ</span>又在位置<span style="margin:0px" lang="EN-US">(R2, C2)</span>与贝茜撞了正着。<span style="margin:0px" lang="EN-US"> FJ</span>并不知道在这<span style="margin:0px" lang="EN-US">T</span>秒内贝茜是否曾经到过<span style="margin:0px" lang="EN-US">(R2, C2)</span>，他能确定的只是，现在贝茜在那里。 设<span style="margin:0px" lang="EN-US">S</span>为奶牛在<span style="margin:0px" lang="EN-US">T</span>秒内从<span style="margin:0px" lang="EN-US">(R1, C1)</span>走到<span style="margin:0px" lang="EN-US">(R2, C2)</span>所能选择的路径总数，<span style="margin:0px" lang="EN-US">FJ</span>希望有一个程序来帮他计算这个值。每一秒内，奶牛会水平或垂直地移动<span style="margin:0px" lang="EN-US">1</span>单位距离（奶牛总是在移动，不会在某秒内停在它上一秒所在的点）。草地上的某些地方有树，自然，奶牛不能走到树所在的位置，也不会走出草地。现在你拿到了一张整块草地的地形图，其中<span style="margin:0px" lang="EN-US">'.'</span>表示平坦的草地，<span style="margin:0px" lang="EN-US">'*'</span>表示挡路的树。你的任务是计算出，一头在<span style="margin:0px" lang="EN-US">T</span>秒内从<span style="margin:0px" lang="EN-US">(R1, C1)</span>移动到<span style="margin:0px" lang="EN-US">(R2,C2)</span>的奶牛可能经过的路径有哪些。 </span><span style="margin:0px" lang="EN-US"></span>
</p>
<p style="margin:0px">
	<strong><span style="margin:0px" lang="EN-US"><span style="font-family:等线;font-size:16px;">Input</span></span></strong>
</p>
<p style="margin:0px">
	<span style="font-family:等线;"><span style="font-size:16px;"><span style="margin:0px" lang="EN-US">*</span>第<span style="margin:0px" lang="EN-US">1</span>行<span style="margin:0px" lang="EN-US">: 3</span>个用空格隔开的整数：<span style="margin:0px" lang="EN-US">N</span>，<span style="margin:0px" lang="EN-US">M</span>，<span style="margin:0px" lang="EN-US">T</span></span></span>
</p>
<p style="margin:0px">
	<span style="font-family:等线;"><span style="font-size:16px;"><span style="margin:0px" lang="EN-US">*</span>第<span style="margin:0px" lang="EN-US">2..N+1</span>行<span style="margin:0px" lang="EN-US">:</span>第<span style="margin:0px" lang="EN-US">i+1</span>行为<span style="margin:0px" lang="EN-US">M</span>个连续的字符，描述了草地第<span style="margin:0px" lang="EN-US">i</span>行各点的情况，保证 字符是<span style="margin:0px" lang="EN-US">'.'</span>和<span style="margin:0px" lang="EN-US">'*'</span>中的一个<span style="margin:0px" lang="EN-US"> * </span>第<span style="margin:0px" lang="EN-US">N+2</span>行<span style="margin:0px" lang="EN-US">: 4</span>个用空格隔开的整数：<span style="margin:0px" lang="EN-US">R1</span>，<span style="margin:0px" lang="EN-US">C1</span>，<span style="margin:0px" lang="EN-US">R2</span>，以及<span style="margin:0px" lang="EN-US">C2</span></span></span>
</p>
<p style="margin:0px">
	<strong><span style="margin:0px" lang="EN-US"><span style="font-family:等线;font-size:16px;">Output</span></span></strong>
</p>
<p style="margin:0px">
	<span style="font-family:等线;"><span style="font-size:16px;"><span style="margin:0px" lang="EN-US">*</span>第<span style="margin:0px" lang="EN-US">1</span>行<span style="margin:0px" lang="EN-US">:</span>输出<span style="margin:0px" lang="EN-US">S</span>，含义如题中所述 </span></span><span style="margin:0px" lang="EN-US"></span>
</p>
<p style="margin:0px">
	<strong><span style="margin:0px" lang="EN-US"><span style="font-family:等线;font-size:16px;">Sample Input</span></span></strong>
</p>
<p style="margin:0px">
	<span style="margin:0px" lang="EN-US"><span style="font-family:等线;font-size:16px;">4 5 6</span></span>
</p>
<p style="margin:0px">
	<span style="margin:0px" lang="EN-US"><span style="font-family:等线;font-size:16px;">...*.</span></span>
</p>
<p style="margin:0px">
	<span style="margin:0px" lang="EN-US"><span style="font-family:等线;font-size:16px;">...*.</span></span>
</p>
<p style="margin:0px">
	<span style="margin:0px" lang="EN-US"><span style="font-family:等线;font-size:16px;">.....</span></span>
</p>
<p style="margin:0px">
	<span style="margin:0px" lang="EN-US"><span style="font-family:等线;font-size:16px;">.....</span></span>
</p>
<p style="margin:0px">
	<span style="margin:0px" lang="EN-US"><span style="font-family:等线;font-size:16px;">1 3 1 5</span></span>
</p>
<p style="margin:0px">
	<span style="font-family:等线;"><span style="font-size:16px;">输入说明<span style="margin:0px" lang="EN-US">:</span></span></span>
</p>
<p style="margin:0px">
	<span style="font-family:等线"><span style="font-size:16px;"><span style="margin:0px" lang="EN-US"><span style="margin:0px">&nbsp;&nbsp;&nbsp;</span></span>草地被划分成<span style="margin:0px" lang="EN-US">4</span>行<span style="margin:0px" lang="EN-US">5</span>列，奶牛在<span style="margin:0px" lang="EN-US">6</span>秒内从第<span style="margin:0px" lang="EN-US">1</span>行第<span style="margin:0px" lang="EN-US">3</span>列走到了第<span style="margin:0px" lang="EN-US">1</span>行第<span style="margin:0px" lang="EN-US">5</span>列。</span></span><span style="margin:0px" lang="EN-US"></span>
</p>
<p style="margin:0px">
	<strong><span style="margin:0px" lang="EN-US"><span style="font-family:等线;font-size:16px;">Sample Output</span></span></strong>
</p>
<p style="margin:0px">
	<span style="margin:0px" lang="EN-US"><span style="font-family:等线;font-size:16px;">1</span></span>
</p>
<p style="margin:0px; text-indent:21pt">
	<span style="font-family:等线;font-size:16px;">奶牛在<span style="margin:0px" lang="EN-US">6</span>秒内从<span style="margin:0px" lang="EN-US">(1,3)</span>走到<span style="margin:0px" lang="EN-US">(1,5)</span>的方法只有一种（绕过她面前的树）。</span><span style="margin:0px" lang="EN-US"></span>
</p>
<p style="margin:0px">
	<span style="margin:0px" lang="EN-US"><span style="font-family:等线;font-size:16px;">&nbsp;</span></span>
</p>
<p style="margin:0px">
	<span style="font-family:等线;font-size:16px;">题意：给出一张有障碍物的图，问时限<span style="margin:0px" lang="EN-US">t</span>秒内从（<span style="margin:0px" lang="EN-US">r1,c1</span>）走到（<span style="margin:0px" lang="EN-US">r2,c2</span>）有多少种走法</span><span style="margin:0px" lang="EN-US"></span>
</p>
<p style="margin:0px">
	<span style="font-family:等线;font-size:16px;">分析：<span style="margin:0px" lang="EN-US">F[time][i][j]</span>表示第<span style="margin:0px" lang="EN-US">time</span>秒时走到（<span style="margin:0px" lang="EN-US">I,j</span>）的方案数，套路老题</span><span style="margin:0px" lang="EN-US"></span>
</p>
<p style="margin:0px">
	<span style="margin:0px" lang="EN-US"><span style="font-family:等线;font-size:16px;">&nbsp;</span></span>
</p>
<p style="margin:0px">
	<span style="margin:0px" lang="EN-US"><span style="font-family:等线;font-size:16px;">Code</span></span>
</p>
<p style="margin:0px">
	<span style="margin:0px" lang="EN-US"></span>
</p>
<pre class="cpp" name="code">#include&lt;iostream&gt;
#include&lt;iomanip&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;cstdlib&gt;
#include&lt;cmath&gt;
#include&lt;algorithm&gt;
#include&lt;vector&gt;
#include&lt;queue&gt;
#define rep(i,a,b) for(int i=a;i&lt;=b;i++)
#define dep(i,a,b) for(int i=a;i&gt;=b;i--)
#define mem(x,num) memset(x,num,sizeof x)
#define LL long long
#define reg(x) for(int i=head[x];i;i=e[i].next)
using namespace std;
inline LL read()
{
	LL f=1,x=0;char ch=getchar();
	while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}
	while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=x*10+ch-'0';ch=getchar();}
	return x*f;
}
const int maxn=106,dx[4]={0,1,0,-1},dy[4]={1,0,-1,0};
LL a[maxn][maxn],f[16][maxn][maxn]={0};
LL n,m,t,r1,r2,c1,c2,nowx,nowy;
char ch[maxn];
int main()
{
	n=read(),m=read(),t=read();
	rep(i,1,n){
		scanf(&quot;%s&quot;,ch);
		rep(j,1,m){if(ch[j-1]=='*')a[i][j]=0;else a[i][j]=1;}
	}
	r1=read(),c1=read(),r2=read(),c2=read();
	f[0][r1][c1]=1;
	rep(time,1,t)
		rep(i,1,n)
		    rep(j,1,m)
			if(a[i][j]){
		        rep(num,0,3){
					nowx=i+dx[num],nowy=j+dy[num];
					if(!a[nowx][nowy]||nowx&lt;1||nowx&gt;n||nowy&lt;1||nowy&gt;m)continue;
					f[time][i][j]+=f[time-1][nowx][nowy];
					}
			}
	printf(&quot;%lld\n&quot;,f[t][r2][c2]);
	return 0;
}</pre>
<br />

<p>
	<br />
	
</p>
